name: '결과 조회'
description: '동행 복권 마이페이지에서 구매/당첨내역을 조회한다'

inputs:
  id:
    description: '동행복권 계정 아이디'
    required: true
    default: ${{ secrets.LOTTERY_ACCOUNT_ID}}
  password:
    description: '동행복권 계정 비밀번호'
    required: true
    default: ${{ secrets.LOTTERY_ACCOUNT_PASSWORD}}
  start-date:
    description: '조회 시작 날짜(YYYY-MM-DD)'
  end-date:
    description: '조회 종료 날짜(YYYY-MM-DD)'

outputs:
  start-date:
    description: '조회 시작 날짜(YYYY-MM-DD)'
    value: ${{ steps.search-result.outputs.start-date }}
  end-date:
    description: '조회 종료 날짜(YYYY-MM-DD)'
    value: ${{ steps.search-result.outputs.end-date }}
  summary:
    description: '조회된 구매/당첨내역을 요약한 결과'
    value: ${{ steps.search-result.outputs.summary }}

runs:
  using: 'composite'
  steps:
    - name: '결괴를 조회한다'
      id: search-result
      env:
        LOTTERY_ACCOUNT_ID: ${{ inputs.id }}
        LOTTERY_ACCOUNT_PASSWORD: ${{ inputs.password }}
        SEARCH_START_DATE: ${{ inputs.start-date }}
        SEARCH_END_DATE: ${{ inputs.end-date }}
      shell: bash
      run: python -m result.main